# Fc v0.1.3 文档

**重要**：如果需要查找特定函数，请使用 `Ctrl+F` 快速查找

## FcError 异常

- FcTypeError：当出现例如构造 `Fc` 类的参数不是 Iterable 类型的情况、或者传递给 `map` 等需要函数参数的函数不是 `FunctionType` 的时候，就会抛出此异常
- FcRangeError：当出现例如传递给 `dropLast` 的参数小于 0 时，则会抛出此异常

## 装饰器

- paramMustBeFunction：检查类成员函数的第二个参数(第一个是 self)是否为 `FunctionType`，不是则抛出异常

## Fc 类

## Magic 方法

函数名|参数|返回值|功能|备注
---|---|---|---|---
`__init__`|可迭代对象|None|初始化，并把这个可迭代对象当做 `val`(不可变，代码软实现)，同时定义各种缓存，避免重复计算|如果参数不是 `Iterable`，则抛出 `FcTypeError`

```Python
f = Fc([1,2,3,4])
f = Fc(range(1,5))
```

函数名|参数|返回值|功能|备注
---|---|---|---|---
`__add__`/`__radd__`|None|连接后的新 Fc|重载了 `+` 操作，并可以实现 Fc 与可迭代对象的加法(连接)|该加法不是 `append`，如需添加元素，可以使用 `insert` 插入某个位置或者使用 `add` 或 `append` 加入结尾

```Python
assert (Fc([1,2])+[3,4]).done() == [1, 2, 3, 4]
assert ([1,2]+Fc([3,4])).done() == [1, 2, 3, 4]
assert (Fc([1,2])+Fc([3,4])).done() == [1, 2, 3, 4]
```

函数名|参数|返回值|功能|备注
---|---|---|---|---
`__str__`|None|字符串|返回 List 类型的字符串|这里会遍历全部的元素，所以可能会有性能影响

```Python
assert str(Fc([1, 2, 3]))=="[1, 2, 3]"
```

函数名|参数|返回值|功能|备注
---|---|---|---|---
`__iter__`|None|可迭代对象|使得 Fc 可以直接加入 for 中|并且没有性能影响

```Python
l = [1, 2]
nl = []
for i in Fc(l):
  nl.append(i)
assert nl == [1, 2]
```

函数名|参数|返回值|功能|备注
---|---|---|---|---
`__enter__`/`__exit__`|None|Fc 的 self|为了实现 `with Fc(...) as ...` 的用法|似乎没啥用

```Python
with Fc([1,2,3]) as f:
  f.print()
  # [1, 2, 3]
```

## 可链式调用

函数名|参数|返回值|功能|备注
---|---|---|---|---
接受一个函数，根据函数

## 不可链式调用(作为结尾等)

